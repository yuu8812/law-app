query findLaws(
  $type: Int = 0
  $star: Int = 0
  $like: Int = 0
  $userId: uuid = "00000000-0000-0000-0000-000000000000"
  $type3: Int = 0
) {
  laws(
    order_by: {
      law_revisions_aggregate: { max: { enforcement_date: asc } }
      reactions_aggregate: { count: asc }
    }
  ) {
    id
    api_law_id
    arguments_aggregate(limit: 1) {
      aggregate {
        count
      }
      nodes {
        user {
          name
          id
        }
        title
        description
        created_at
        reactions_aggregate_1: reactions_aggregate(where: { type: { _eq: $type } }) {
          aggregate {
            count
          }
        }
      }
    }
    law_revisions(limit: 1) {
      abbrev
      abbrev_kana
      abbrev_kana_seion
      ad_year
      enforcement_comment
      enforcement_date
      era
      id
      lang
      year
      title_kana_seion
      title_kana
      title
      repeal_type
      remain_in_force
      promulgate_month
      promulgate_day
      old_law_title_kana_seion
      old_law_title_kana
      old_law_title
      num_kanji
      num
      mission
      law_type {
        type_en
        type_ja
      }
      law_category {
        category_number
        category_ja
      }
      law_status {
        status_en
        status_ja
      }
      api_law_data_info
      api_law_revision_id
      api_law_type_num
    }
    star: reactions_aggregate(where: { type: { _eq: $star } }) {
      aggregate {
        count
      }
    }
    like: reactions_aggregate(where: { type: { _eq: $like } }) {
      aggregate {
        count
      }
    }
    law_views(where: { user_id: { _eq: $userId } }) {
      id
    }
    law_revisions_aggregate {
      aggregate {
        count
      }
    }
    law_summaries_aggregate(limit: 1) {
      aggregate {
        count
      }
      nodes {
        text
        user {
          id
          name
        }
      }
    }
  }
}

query findLaw(
  $id: uuid = "00000000-0000-0000-0000-000000000000"
  $userId: uuid = "00000000-0000-0000-0000-000000000000"
  $_eq: Int = 1
  $_eq1: uuid = "00000000-0000-0000-0000-000000000000"
) {
  laws_by_pk(id: $id) {
    id
    law_views(where: { user_id: { _eq: $userId } }) {
      id
    }
    #
    like: reactions_aggregate(where: { type: { _eq: 0 } }) {
      aggregate {
        count
      }
    }
    bookmark: reactions_aggregate(where: { type: { _eq: 1 } }) {
      aggregate {
        count
      }
    }
    isPushedLike: reactions(where: { type: { _eq: 0 }, user_id: { _eq: $userId } }) {
      id
    }
    isPushedBookmark: reactions(where: { type: { _eq: 1 }, user_id: { _eq: $userId } }) {
      id
    }
    #
    law_revisions {
      title
      id
      law_full_text
      law_status {
        status_en
        status_ja
      }
      law_type {
        type_en
        type_ja
      }
      law_category {
        category_number
        category_ja
      }
      law_revision_columns {
        comments_aggregate {
          aggregate {
            count
          }
        }
        reactions_aggregate(where: { type: { _eq: $_eq }, law_id: { _eq: $_eq1 } }) {
          aggregate {
            count
          }
        }
        column_id
        id
      }
    }
  }
}

query FindCommentsByLawId(
  $law_revision_column: law_revision_columns_bool_exp = {}
  $user_id: uuid = "00000000-0000-0000-0000-000000000000"
  $type: Int = 0
) {
  comments(where: { law_revision_column: $law_revision_column }) {
    id
    text
    created_at
    user {
      icon_url
      id
      name
    }
    law_revision_column {
      column_id
    }
    comment_reactions_aggregate {
      aggregate {
        count
      }
    }
    comment_reactions(where: { user_id: { _eq: $user_id }, type: { _eq: $type } }) {
      id
    }
  }
}

query findCommentsOnLawRevision(
  $columnId: String
  $type: Int = 0
  $userId: uuid = "00000000-0000-0000-0000-000000000000"
  $revisionId: uuid = "00000000-0000-0000-0000-000000000000"
) {
  law_revision_columns(
    where: { column_id: { _eq: $columnId }, law_revision: { id: { _eq: $revisionId } } }
  ) {
    comments_aggregate(order_by: { created_at: desc }) {
      aggregate {
        count
      }
      nodes {
        id
        text
        created_at
        user {
          name
          id
          icon_url
        }
        id
        comment_reactions_aggregate(where: { type: { _eq: $type } }) {
          aggregate {
            count
          }
        }
        isLiked: comment_reactions(where: { user_id: { _eq: $userId }, type: { _eq: $type } }) {
          id
        }
      }
    }
  }
}

query findUser($_eq: String = "") {
  users(where: { authentication_id: { _eq: $_eq } }) {
    id
  }
}

mutation createLawRevisionColumnComment(
  $text: String
  $author_id: uuid = "00000000-0000-0000-0000-000000000000"
  $column_id: String
  $column_text: String
  $law_revision_id: uuid = "00000000-0000-0000-0000-000000000000"
) {
  insert_law_revision_columns_one(
    object: {
      column_id: $column_id
      law_revision_id: $law_revision_id
      comments: { data: { text: $text, author_id: $author_id } }
      column_text: $column_text
    }
    on_conflict: { constraint: law_revision_column_pkey, update_columns: column_id }
  ) {
    id
  }
}

mutation createUser($authentication_id: String, $name: String, $icon_url: String) {
  insert_users(
    objects: { authentication_id: $authentication_id, name: $name, icon_url: $icon_url }
  ) {
    returning {
      id
    }
  }
}

mutation createCommentReaction(
  $comment_id: uuid = "00000000-0000-0000-0000-000000000000"
  $user_id: uuid = "00000000-0000-0000-0000-000000000000"
  $type: Int
) {
  insert_comment_reactions_one(
    object: { comment_id: $comment_id, user_id: $user_id, type: $type }
  ) {
    id
  }
}

mutation deleteCommentReaction(
  $comment_id: uuid = "00000000-0000-0000-0000-000000000000"
  $user_id: uuid = "00000000-0000-0000-0000-000000000000"
) {
  delete_comment_reactions(
    where: { comment_id: { _eq: $comment_id }, user_id: { _eq: $user_id } }
  ) {
    returning {
      id
    }
  }
}

mutation createWatchedLaw(
  $user_id: uuid = "00000000-0000-0000-0000-000000000000"
  $law_id: uuid = "00000000-0000-0000-0000-000000000000"
) {
  insert_law_views_one(object: { user_id: $user_id, law_id: $law_id }) {
    id
  }
}

query findLawsWhenCreateWorld($where: laws_bool_exp, $limit: Int = 10) {
  laws(where: $where, limit: $limit) {
    id
    law_revisions {
      id
      title
      type
      status
      category
    }
  }
}

query findArgumentsForCreateWorld(
  $limit: Int = 10
  $order_by: [arguments_order_by!] = {}
  $offset: Int = 0
  $where: arguments_bool_exp = {}
) {
  arguments(limit: $limit, order_by: $order_by, offset: $offset, where: $where) {
    id
    description
    user {
      id
      name
      icon_url
    }
    title
  }
}

mutation createWorld(
  $objects: [worlds_insert_input!] = []
  $on_conflict: worlds_on_conflict = { constraint: worlds_pkey1 }
) {
  insert_worlds(objects: $objects, on_conflict: $on_conflict) {
    returning {
      id
    }
  }
}

query findWorld($id: uuid = "") {
  worlds_by_pk(id: $id) {
    world_arguments {
      argument {
        title
        description
        author_id
        id
      }
    }
    world_categories {
      law_category {
        category_ja
        category_number
      }
    }
    world_chats_boxes {
      title
      status
      id
      description
      user {
        icon_url
        id
        name
      }
    }
    world_editable_users {
      user {
        icon_url
        id
        name
      }
    }
    world_histories {
      description
      editor_id
      markup_text
      markup_text_html
      title
      id
    }
    world_laws {
      law {
        id
        law_revisions {
          title
        }
      }
    }
  }
}

query findWorlds(
  $limit: Int = 10
  $offset: Int = 0
  $order_by: [worlds_order_by!] = {}
  $where: worlds_bool_exp = {}
) {
  worlds(limit: $limit, offset: $offset, order_by: $order_by, where: $where) {
    world_arguments {
      argument {
        title
        description
        author_id
        id
      }
    }
    world_categories {
      law_category {
        category_ja
        category_number
      }
    }
    world_chats_boxes {
      title
      status
      id
      description
      user {
        icon_url
        id
        name
      }
    }
    world_editable_users {
      user {
        icon_url
        id
        name
      }
    }
    world_histories {
      description
      editor_id
      markup_text
      title
      id
    }
    world_laws {
      law {
        id
        law_revisions {
          title
        }
      }
    }
    id
    status
    user {
      id
      name
      icon_url
    }
  }
}
